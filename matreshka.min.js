!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Matreshka=t():e.Matreshka=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),o=n(52),i=n(13);r.Object=i,r.Array=o,e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(3),i=n(154),s=n(18),a=n(25);i.constructor=function f(){if(!(this instanceof f))throw a("common:call_class");s(this)};var c=r(i,o);e.exports=c},function(e,t){"use strict";function n(e,t){for(var s,a=i.call(e,"constructor")?e.constructor:function(){},c=e["extends"],f=Object.create(c?c.prototype:{}),u=c?c[r]:void 0,l=f,v=e,d=Object.keys(v),h=d.length,p=0;p<h;p++)s=d[p],l[s]=v[s];if(o)for(var g,y=o(e),b=y,m=0,k=b.length;g=b[m],m<k;m++)f[g]=e[g];return"object"==typeof u&&!function(){var e=a[r]||{};a[r]=e;for(var t,n,i=u,s=Object.keys(i),f=0,l=s.length;t=s[f],n=i[t],f<l;f++)a[t]=c[t],e[t]=!0;if(o)for(var v,d=o(u),h=d,p=0,g=h.length;v=h[p],p<g;p++)a[v]=c[v],e[v]=!0}(),"object"==typeof t&&!function(){var e=a[r]||{};a[r]=e;for(var n,i,s=t,c=Object.keys(s),f=0,u=c.length;n=c[f],i=s[n],f<u;f++)a[n]=i,e[n]=!0;if(o)for(var l,v=o(t),d=v,h=0,p=d.length;l=d[h],h<p;h++)a[l]=t[l],e[l]=!0}(),a.prototype=f,this instanceof n?new a:a}var r="function"==typeof Symbol?Symbol("staticNames"):"__staticNames",o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){"use strict";var r=n(4),o=n(10),i=n(11),s=n(2),a=n(12),c=n(127),f=c,u=n(137),l=u,v=n(39),d=n(153);e.exports=v({Class:s,defaultBinders:r,lookForBinder:o,binders:f,parserBrackers:i,toMatreshka:a,useDOMLibrary:d},l)},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(7),s=n(8),a=n(9);e.exports=[function(e){switch(e.tagName){case"INPUT":return r(e.type);case"TEXTAREA":return o();case"SELECT":return i(e.multiple);case"PROGRESS":return s();case"OUTPUT":return a();default:return null}}]},function(e,t){"use strict";function n(e){var t=void 0;switch(e){case"checkbox":return{on:"click keyup",getValue:function(){return this.checked},setValue:function(e){this.checked=e}};case"radio":return{on:"click keyup",getValue:function(){return this.value},setValue:function(e){this.checked="undefined"!=typeof e&&this.value===e}};case"submit":case"button":case"image":case"reset":return{};case"hidden":t=null;break;case"file":t="change";break;default:t="input"}return{on:t,getValue:function(){return this.value},setValue:function(e){this.value=e}}}e.exports=n},function(e,t,n){"use strict";function r(){return o("text")}var o=n(5);e.exports=r},function(e,t){"use strict";function n(e){return e?{on:"change",getValue:function(){for(var e=this.options,t=[],n=0;e.length>n;n++)e[n].selected&&t.push(e[n].value);return t},setValue:function(e){for(var t=this.options,n="string"==typeof e?[e]:e,r=t.length-1;r>=0;r--)t[r].selected=~n.indexOf(t[r].value)}}:{on:"change",getValue:function(){return this.value},setValue:function(e){if(this.value=e,!e)for(var t=this.options,n=t.length-1;n>=0;n--)if(!t[n].value){t[n].selected=!0;break}}}}e.exports=n},function(e,t,n){"use strict";function r(){return o()}var o=n(5);e.exports=r},function(e,t){"use strict";function n(){return{on:null,getValue:function(){return this.value||this.textContent},setValue:function(e){var t="form"in this?"value":"textContent";this[t]=null===e?"":""+e}}}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t=0;t<o.length;t++){var n=o[t].call(e,e);if(n)return n}}var o=n(4);e.exports=r},function(e,t){"use strict";e.exports={left:"{{",right:"}}"}},function(e,t,n){"use strict";function r(e){var t=n(13),o=n(52);if(e&&"object"==typeof e){var i=function(){if("length"in e){var n=function(){for(var t,n=Array(e.length),i=e,s=0,a=i.length;t=i[s],s<a;s++)n[s]=r(t);return{v:{v:(new o).recreate(n)}}}();if("object"==typeof n)return n.v}for(var i,s,a={},c=e,f=Object.keys(c),u=0,l=f.length;i=f[u],s=c[i],u<l;u++)a[i]=r(s);return{v:new t(a)}}();if("object"==typeof i)return i.v}return e}e.exports=r},function(e,t,n){"use strict";var r=n(2),o=n(1),i=n(14),s=n(25),a=n(18);i["extends"]=o,i.constructor=function f(e){if(!(this instanceof f))throw s("common:call_class");return a(this),"undefined"!=typeof e?this.setData(e):this};var c=r(i);e.exports=c},function(e,t,n){"use strict";var r,o=n(15),i=n(41),s=n(42),a=n(43),c=n(44),f=n(45),u=n(46),l=n(47),v=n(48),d=n(49),h=n(50),p=n(51),g="function"==typeof Symbol?Symbol.iterator:"@@iterator";e.exports=(r={_afterInit:o,setData:c,addDataKeys:i,removeDataKeys:s,isDataKey:a,keys:u,values:l,entries:v,keyOf:f,toJSON:d,each:h,isMatreshkaObject:!0,jset:c},r[g]=p,r)},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.key,n=l.get(this);t&&t in n.keys&&u(this,"_asterisk:set",e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.key,n=l.get(this);t&&t in n.keys&&u(this,"_asterisk:remove",e)}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.key,n=e.silent,r=l.get(this);t&&t in r.keys&&!n&&(u(this,"set",e),u(this,"modify",e))}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.key,n=e.silent,r=l.get(this);t&&t in r.keys&&(delete r.keys[t],n||(u(this,"remove",e),u(this,"modify",e)))}function a(e){c.call(this),e.keys={},f(this,"_change:delegated",r),f(this,"_delete:delegated",o),f(this,"change",i),f(this,"delete",s)}var c=n(16),f=n(17),u=n(20),l=n(19);e.exports=a},function(e,t){"use strict";function n(){this.nodes={},this.$nodes={}}e.exports=n},function(e,t,n){"use strict";function r(e,t,r,f){var u=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],l=o(e),v=l.events,d=f||e,h=v[t],p={callback:r,context:f,ctx:d,name:t,info:u},g=u.skipChecks,y=void 0!==g&&g;if(!y){var b=a.exec(t);if(b){var m=b[1],k=b[2],x=void 0===k?"sandbox":k,j=b[3],O=n(28);return O(e,x,m,j,r,f,u),!0}}if(h){if(!y)for(var _=0;_<h.length;_++){var w=h[_],A=r&&r._callback||r,M=w.callback._callback||w.callback;if(A===M&&w.context===f)return!1}h.push(p)}else v[t]=[p];return c.test(t)&&s(e,t.replace(c,"")),y||"_"===t[0]||(i(e,"addevent:"+t,p),i(e,"addevent",p)),!0}var o=n(18),i=n(20),s=n(22),a=n(27),c=/^_change:deps:|^_change:bindings:|^_change:delegated:|^_change:common:|^_change:tree:|^change:|^beforechange:/;e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.get(e);return t||(t={events:{},props:{},id:i},i+=1,o.set(e,t),e._afterInit&&e._afterInit(t)),t}var o=n(19),i=0;e.exports=r},function(e,t){"use strict";function n(){}for(var r,o=n.prototype,i=({get:function(e){return e.matreshkaData},set:function(e,t){Object.defineProperty(e,"matreshkaData",{value:t,enumerable:!1,writable:!1,configurable:!1})},has:function(e){return"matreshkaData"in e}}),s=Object.keys(i),a=s.length,c=0;c<a;c++)r=s[c],o[r]=i[r];e.exports="undefined"==typeof WeakMap?new n:new WeakMap},function(e,t,n){"use strict";function r(e,t,n){var s=o.get(e),a=s&&s.events[t];if(a){var c=a.length,f=0;if(n instanceof Array)for(;f<c;){var u=r.latestEvent=a[f],l=u.callback,v=u.ctx;i(l,v,n),f+=1}else for(;f<c;){var d=r.latestEvent=a[f],h=d.callback,p=d.ctx;h.call(p,n),f+=1}}}var o=n(19),i=n(21);e.exports=r,r.latestEvent={info:{},name:null}},function(e,t){"use strict";function n(e,t,n){if(t)switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);case 4:return e.call(t,n[0],n[1],n[2],n[3]);default:return e.apply(t,n)}switch(n.length){case 0:return e();case 1:return e(n[0]);case 2:return e(n[0],n[1]);case 3:return e(n[0],n[1],n[2]);case 4:return e(n[0],n[1],n[2],n[3]);default:return e.apply(void 0,n)}}e.exports=n},function(e,t,n){"use strict";function r(){throw a("common:use_magic_props")}function o(e,t,n){var o=i.get(e);return o?(o.props[t]||!function(){var i=o.props[t]={value:e[t],mediator:null,bindings:null},a=void 0,c=void 0;("sandbox"===t||e.isMatreshkaArray&&"container"===t)&&(a=c=r),n||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return a?a():i.value},set:function(n){return c?c():s(e,t,n,{fromSetter:!0})}})}(),o.props[t]):null}var i=n(19),s=n(23),a=n(25);e.exports=o},function(e,t,n){"use strict";function r(e,t,n,c){if("object"==typeof this&&this.isMatreshka?(c=n,n=t,t=e,e=this):s(e,"set"),!t)return e;if("object"==typeof t){for(var f,u,l=t,v=Object.keys(l),d=0,h=v.length;f=v[d],u=l[f],d<h;d++)r(e,f,u,n);return e}c=c||{};var p=o.get(e);if(!p)return e[t]=n,e;var g=p.props,y=p.events,b=g[t];if(!b)return e[t]=n,e;var m=b.value,k=b.mediator,x=c,j=x.skipMediator,O=x.fromMediator,_=x.force,w=x.forceHTML,A=x.silent,M=x.silentHTML,E=x.skipCalc,D=void 0;D=!k||a(n,m)||j||O?n:k(n);var S,N,V,C,$,I=!a(D,m),R={};for(C=c,S=Object.keys(C),N=S.length,V=0;V<N;V++)$=S[V],R[$]=C[$];R.value=D,R.self=e,R.previousValue=m,R.key=t,R.isChanged=I;var B=R,T=(I||_)&&!A;if(T){var H="beforechange",L=H+":"+t;y[L]&&i(e,L,B),y[H]&&i(e,H,B)}if(b.value=D,!M&&(I||w)){var K="_change:bindings:"+t;y[K]&&i(e,K,B)}if(T){var P="change",J=P+":"+t;y[J]&&i(e,J,B),y[P]&&i(e,P,B)}if((I||_)&&!E){var W="_change:deps:"+t;y[W]&&i(e,W,B)}if(I){var q="_change:delegated:"+t;y[q]&&i(e,q,B);var F="_change:tree:"+t;y[F]&&i(e,F,B);var U="_change:common:"+t;y[U]&&i(e,U,B);var G="_change:delegated";y[G]&&i(e,G,B)}return e}var o=n(19),i=n(20),s=n(24),a=n(26);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=null===e?"null":typeof e;if("object"!==n&&"function"!==n)throw o("common:object_type",{object:e,method:t})}var o=n(25);e.exports=r},function(e,t){"use strict";function n(e,t){var n=f[e];if(!n)throw Error('Unknown error "'+e+'". Please report about this on Github.');return new Error(n(t))}var r="Binding error:",o="Calc error:",i="Events error:",s="Matreshka.Array error:",a=function(e){return null===e?"null":typeof e},c=function(e,t,n){return t+' must have type "'+n+'" but got "'+a(e)+'" instead.'},f={"common:object_type":function(e){var t=e.object,n=e.method;return"Error in "+n+":"+c(t,"object","object")},"common:call_class":function(){return"Cannot call a class as a function"},"common:use_magic_props":function(){return'"sandbox" key (for all objects) and "container" key (for Matreshka.Array instances) are reserved for service use and cannot be used as usual properties'},"binding:node_missing":function(e){var t=e.key,n=e.node,o="string"==typeof n?' (given selector is "'+n+'")':"";return r+' node is missing for key "'+t+'"'+o+"."},"binding:falsy_key":function(){return r+' "key" arg cannot be falsy'},"binding:instance_nodes_missing":function(e){var t=e.$nodes,n=t?"nodes":"$nodes";return r+' "'+n+'" property of Matreshka instance is missing. It must be an object and must not be reassigned.'},"binding:magic_props_nodes_length":function(){return r+' "sandbox" key (for all objects) and "container" key (for Matreshka.Array instances) cannot have more than one bound node'},"calc:target_type":function(e){var t=e.target;return o+" "+c(t,"target key","string")},"calc:source_key_type":function(e){var t=e.sourceKey;return o+" "+c(t,"source key","string")},"calc:source_object_type":function(e){var t=e.sourceObject;return o+" "+c(t,"source object","object")},"calc:source_type":function(e){var t=e.source;return o+" "+c(t,"source","object")},"array:model_type":function(e){var t=e.Model;return s+" "+c(t,"Model","function")},"array:add_render_twice":function(){return s+" one rendered object was inserted twice."},"array:rendered_number_nodes":function(e){var t=e.length;return s+" renderer returned "+t+" nodes instead of one. "+(t>0?"To fix this wrap these nodes by single node.":"")},"array:renderer_node_missing":function(e){var t=e.selector;return s+' renderer node is missing (given selector is "'+t+'")'},"array:nonexistent_method":function(e){var t=e.method;return s+" Array.prototype."+t+" doesn't exist. You need to include a polyfill for it (e. g. babel-node)"},"array:method_compat_renderer":function(e){var t=e.method;return s+" Not possible to render when "+t+" method is called"},"pull:to_remove_type":function(e){var t=e.toRemove;return"Error in pull: "+c(t,"toRemove","number")},"restore:no_nodes":function(){return s+' cannot find any container to restore an instance using "restore" method'},"trigger:names_type":function(e){var t=e.names;return i+" "+c(t,"event name","string")},"on:names_type":function(e){var t=e.names;return f["trigger:names_type"]({names:t})},"removedatakeys:key_type":function(e){var t=e.key;return"Error in removeDataKeys: "+c(t,"key","string")},"adddatakeys:key_type":function(e){var t=e.key;return"Error in addDataKeys: "+c(t,"key","string")},"remove:key_type":function(e){var t=e.key;return"Error in remove: "+c(t,"key","string")},"mediate:key_type":function(e){var t=e.key;return"Error in mediate: "+c(t,"key","string")}};e.exports=n},function(e,t){"use strict";var n=function(e,t){return 0===e&&0===t?1/e===1/t:e!==e&&t!==t||e===t};e.exports=Object.is||n},function(e,t){"use strict";e.exports=/([^::]+)::([^\(\)]+)?(?:\((.*)\))?/},function(e,t,n){"use strict";function r(e){var t=e.fullEventName,n=e.domEventHandler,r=e.selector;return{bindHandler:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=e.node;o&&c.$(o).on(t,r,n)},unbindHandler:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=e.node;o&&c.$(o).off(t,r,n)}}}function o(e,t,n,o,c,u,l){var v=i(e),d=s(e,t),h=f({key:t,object:e,callback:c,context:u||e});h._callback=c;var p=v.id+t,g=n+"."+p,y=r({fullEventName:g,domEventHandler:h,selector:o}),b=y.bindHandler,m=y.unbindHandler,k=a(e,"bind:"+t,b,u,l),x=a(e,"unbind:"+t,m,u,l);if(k&&x){var j=d.bindings;if(j)for(var O,_=j,w=0,A=_.length;O=_[w],w<A;w++){var M=O.node;return b({node:M})}}return e}var i=n(18),s=n(22),a=n(17),c=n(29),f=n(40);e.exports=o},function(e,t,n){"use strict";var r=n(30);e.exports={$:r}},function(e,t,n){"use strict";var r=n(31),o=["on","off","add"],i="function"==typeof $?$:null,s=!0;if(i){for(var a=i.fn||i.prototype,c=0;c<o.length;c++)if(!a[o[c]]){s=!1;break}i.parseHTML||(i.parseHTML=r.parseHTML)}else s=!1;e.exports=s?i:r},function(e,t,n){"use strict";function r(e,t){return new o(e,t)}var o=n(32),i=n(34),s=n(35),a=n(37),c=n(38),f=n(39);e.exports=r,r.parseHTML=i,f(o.prototype,{on:s,off:a,add:c})},function(e,t,n){"use strict";function r(e,t){var n=void 0;if(e)if(e.nodeType||"object"==typeof i&&e===i)n=[e];else if("string"==typeof e)if(/</.test(e))n=o(e);else if(t){var s=new r(t)[0];s&&(n=s.querySelectorAll(e))}else n=i.document.querySelectorAll(e);else n="length"in e?e:[e];var a=n&&n.length;if(a)for(var c=0;c<a;c++)this.push(n[c])}var o=n(33),i=window;r.prototype=[],e.exports=r},function(e,t){"use strict";function n(e){var t={option:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_:[0,"",""]},n=e.replace(/^\s+|\s+$/g,""),r=window.document.createElement("div"),o=void 0;t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td;var i=/<([\w:]+)/.exec(n),s=i&&t[i[1]]||t._;for(r.innerHTML=s[1]+n+s[2],o=s[0];o;)o-=1,r=r.children[0];return r.childNodes}e.exports=n},function(e,t,n){"use strict";function r(e){return new i(o(e))}var o=n(33),i=n(32);e.exports=r},function(e,t,n){"use strict";function r(e,t){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,t)}function o(e,t,n){for(var o=Math.random().toString().replace("0.","x"),i="["+o+'="'+o+'"] ',s=t.split(","),a="",c=0;c<s.length;c++){var f=s[c];a+=""+(0===c?"":",")+i+f+","+i+f+" *"}this.setAttribute(o,o),r(e.target,a)&&n.call(this,e),this.removeAttribute(o)}function i(e,t,n){var r=e.split(a),i=void 0;"function"==typeof t&&(n=t,t=null),t&&(i=function(e){o.call(this,e,t,n)});for(var f=0;f<r.length;f++)for(var u=r[f].split(c),l=u[0],v=u[1],d=0;d<this.length;d++){for(var h=this[d],p=h.b$=h.b$||++s.nodeIndex,g=s.allEvents[l+p]=s.allEvents[l+p]||[],y=!1,b=0;b<g.length;b++){var m=g[b];if(n===m.handler&&(!t||t===m.selector)){y=!0;break}}y||(g.push({delegate:i,handler:n,namespace:v,selector:t}),h.addEventListener(l,i||n,!1))}return this}var s=n(36),a=/\s+/,c=/\.(.+)/;e.exports=i},function(e,t){"use strict";e.exports={nodeIndex:0,allEvents:{}}},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof t&&(n=t,t=null);for(var r=e.split(i),a=0;a<r.length;a++)for(var c=r[a].split(s),f=c[0],u=c[1],l=0;l<this.length;l++){var v=this[l],d=o.allEvents[f+v.b$];if(d)for(var h=0;h<d.length;h++){var p=d[h];n&&n!==p.handler&&n!==p.delegate||u&&u!==p.namespace||t&&t!==p.selector||(v.removeEventListener(f,p.delegate||p.handler),d.splice(h,1),h-=1)}else u||t||v.removeEventListener(f,n)}return this}var o=n(36),i=/\s+/,s=/\.(.+)/;e.exports=r},function(e,t,n){"use strict";function r(e){var t={},n=void 0,r=new o(e);if(this.length){n=new o;for(var s=0;s<this.length;s++){var a=this[s],c=a.b$=a.b$||++i.nodeIndex;t[c]=1,n.push(a)}for(var f=0;f<r.length;f++){var u=r[f],l=u.b$=u.b$||++i.nodeIndex;t[l]||(t[l]=1,n.push(u))}}else n=r;return n}var o=n(32),i=n(36);e.exports=r},function(e,t){"use strict";var n=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var o,i,s=r,a=Object.keys(s),c=0,f=a.length;o=a[c],i=s[o],c<f;c++)t[o]=i}return t};e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.key,n=e.object,r=e.callback,i=e.context;return function(e){var s=e.originalEvent||e,a=s.matreshkaTriggerArgs,c=e.which,f=e.target,u=e.ctrlKey,l=e.altKey;a?o(r,i,a):r.call(i,{self:n,node:this,preventDefault:function(){return e.preventDefault()},stopPropagation:function(){return e.stopPropagation()},key:t,domEvent:e,originalEvent:s,which:c,target:f,ctrlKey:u,altKey:l})}}var o=n(21);e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=o(this),r=n.keys,c=void 0;c=e instanceof Array?e:arguments;for(var f,u=c,l=0,v=u.length;f=u[l],l<v;l++){if("string"!=typeof f)throw s("adddatakeys:key_type",{key:f});if(!(f in r)){var d=i(t,f),h=d.value,p={key:f,value:h};r[f]=!0,a(t,"set",p),a(t,"modify",p)}}return this}var o=n(18),i=n(22),s=n(25),a=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=o.get(this);if(!n)return this;var r=n.keys,a=void 0;a=e instanceof Array?e:arguments;for(var c,f=a,u=0,l=f.length;c=f[u],u<l;u++){if("string"!=typeof c)throw s("removedatakeys:key_type",{key:c});if(c in r){var v={key:c,value:t[c]};delete r[c],i(t,"modify",v),i(t,"remove",v)}}return this}var o=n(19),i=n(20),s=n(25);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.get(this);return!!t&&e in t.keys}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n,r,o=[],i=e,s=Object.keys(i),a=0,c=s.length;n=s[a],r=i[n],a<c;a++)n in t||o.push(n);return o}function o(e,t,n){var o=this;if(!e)return this;var c=i(this),f=c.keys;if("object"==typeof e){var u=function(){n=t||{};for(var i,c,u=n,l=u.replaceData,v=e,d=Object.keys(v),h=0,p=d.length;i=d[h],c=v[i],h<p;h++){if(l){var g=r(f,e);g.length&&o.removeDataKeys(g)}s(o,i),f[i]=1,a(o,i,c,n)}return{v:o}}();if("object"==typeof u)return u.v}n=n||{};var l=n,v=l.replaceData;if(v){var d,h=r(f,(d={},d[e]=!0,d));h.length&&this.removeDataKeys(h)}return s(this,e),f[e]=1,a(this,e,t,n)}var i=n(18),s=n(22),a=n(23);e.exports=o},function(e,t,n){"use strict";function r(e){var t=o.get(this);if(!t)return null;for(var n=Object.keys(t.keys),r=0;r<n.length;r++){var i=n[r];if(this[i]===e)return i}return null}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(){var e=o.get(this);return e?Object.keys(e.keys):[]}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(){var e=o.get(this);if(!e)return[];for(var t=Object.keys(e.keys),n=t.length,r=new Array(n),i=0;i<t.length;i++)r[i]=this[t[i]];return r}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(){var e=o.get(this);if(!e)return[];for(var t=Object.keys(e.keys),n=t.length,r=new Array(n),i=0;i<t.length;i++){var s=t[i];r[i]=[s,this[s]]}return r}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(){for(var e,t,n=this,r=arguments.length<=0||void 0===arguments[0]||arguments[0],i=o(this),s=i.keys,a={},c=s,f=Object.keys(c),u=0,l=f.length;e=f[u],t=c[e],u<l;u++){var v=n[e];r&&v&&"function"==typeof v.toJSON?a[e]=v.toJSON(!0):a[e]=v}return a}var o=n(18);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=this,r=o.get(this),i="undefined"!=typeof t?t:this;if(!r)return this;for(var s,a,c=r.keys,f=Object.keys(c),u=0,l=f.length;s=f[u],a=c[s],u<l;u++)e.call(i,n[s],s,n);return this}var o=n(19);e.exports=r},function(e,t){"use strict";function n(){var e=this,t=this.keys(),n=0;return{next:function(){return n>t.length-1?{done:!0}:{done:!1,value:e[t[n++]]}}}}e.exports=n},function(e,t,n){"use strict";var r=n(2),o=n(1),i=n(53),s=n(25),a=n(18),c=n(124);i["extends"]=o,i.constructor=function u(e){if(!(this instanceof u))throw s("common:call_class");return a(this),1===arguments.length&&"number"==typeof e?this.length=e:arguments.length&&this.recreate(arguments,{silent:!0,dontRender:!0}),this};var f=r(i,c);e.exports=f},function(e,t,n){"use strict";var r,o=n(39),i=n(54),s=n(55),a=n(56),c=n(103),f=n(104),u=n(107),l=n(108),v=n(109),d=n(110),h=n(123),p="function"==typeof Symbol?Symbol.iterator:"@@iterator";e.exports=o((r={_afterInit:i,mediateItem:s,orderBy:a,pull:c,recreate:f,rerender:u,restore:l,toJSON:v,length:0,isMatreshkaArray:!0},r[p]=h,r),d)},function(e,t,n){"use strict";function r(e,t){var n=this.Model;if(e instanceof n)return e;var r=void 0;return r=e&&"function"==typeof e.toJSON?e.toJSON(!1):e,new n(r,this,t)}function o(){var e=this.Model;if("function"!=typeof e)throw f("array:model_type",{Model:e});this.mediateItem(r)}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.forceRerender,n=void 0===t||t;this.rerender({forceRerender:n})}function s(){var e="Model"in this;a.call(this),c(this,"_change:common:Model",o,this,{skipChecks:!0}),c(this,"_change:common:itemRenderer",i,this,{skipChecks:!0}),e&&o.call(this)}var a=n(16),c=n(17),f=n(25);e.exports=s},function(e,t,n){"use strict";function r(e){var t=e.arr,n=e.mediator;return function(e,r){return n.call(t,e,r,t)}}function o(e){for(var t=i(this),n=this.length,o=t.itemMediator=r({arr:this,mediator:e}),s=0;s<n;s++)this[s]=o(this[s],s);return this}var i=n(18);e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(this.length>1){o(this,i(this,e,t));var r,a,c,f,u,l={};for(l.method="sort",l.self=this,l.added=[],l.removed=[],f=n,r=Object.keys(f),a=r.length,c=0;c<a;c++)u=r[c],l[u]=f[u];s(this,l)}return this}var o=n(57),i=n(58),s=n(59);e.exports=r},function(e,t){"use strict";function n(e){for(var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=t.length,r=e.length,o=n-r,i=0;i<n;i++)e[i]=t[i];for(var s=0;s<o;s++)delete e[s+n];return e.length=n,e}e.exports=n},function(e,t){"use strict";function n(e,t,n){if("length"in e&&"object"==typeof e){var r=function(){var r="asc",o=void 0;n instanceof Array||(o=n||r);for(var i=e.length,s=Array(i),a=0;a<i;a++)s[a]=e[a];if(!t)return{v:s};var c=t instanceof Array?t:[t];return{v:s.sort(function(e,t){if(e&&t)for(var r=0;r<c.length;r++){var i=c[r],s="desc"!==(o||n[r])?-1:1;if(e[i]>t[i])return-s;if(e[i]<t[i])return s}return 0})}}();if("object"==typeof r)return r.v}return[]}e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=t.added,r=t.removed,a=t.silent,c=t.method,f=t.dontRender,u=n.length,l=r.length,v=u||l||"sort"===c||"reverse"===c,d=o.get(e),h=d.events,p=e.renderIfPossible,g=void 0===p||p,y="_asterisk:add",b="_asterisk:remove";if(u&&h[y]&&i(e,y,t),l&&h[b]&&i(e,b,t),!a){if(h[c]&&i(e,c,t),u&&(h.add&&i(e,"add",t),h.addone))for(var m=0;m<u;m++)i(e,"addone",{self:e,addedItem:n[m]});if(l&&(h.remove&&i(e,"remove",t),h.removeone))for(var k=0;k<l;k++)i(e,"removeone",{self:e,removedItem:r[k]});h.modify&&i(e,"modify",t)}v&&!f&&g&&s({self:e,eventOptions:t})}var o=n(19),i=n(20),s=n(60);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.self,n=e.eventOptions,r=n.method,d=n.added,h=n.removed,p=t.nodes.container||t.nodes.sandbox,g=o.get(t);if(p)switch(r){case"fill":case"copyWithin":throw i("array:method_compat_renderer",{method:r});case"push":s({self:t,selfDef:g,eventOptions:n,container:p});break;case"unshift":a({self:t,selfDef:g,eventOptions:n,container:p});break;case"pull":case"pop":case"shift":u({self:t,selfDef:g,eventOptions:n,container:p});break;case"sort":case"reverse":f({self:t,selfDef:g,eventOptions:n,container:p});break;case"rerender":l({self:t,selfDef:g,eventOptions:n,container:p});break;case"recreate":c({self:t,selfDef:g,eventOptions:n,container:p});break;case"splice":d.length&&v({self:t,selfDef:g,eventOptions:n,container:p}),h.length&&u({self:t,selfDef:g,eventOptions:n,container:p});break;default:return}}var o=n(19),i=n(25),s=n(61),a=n(96),c=n(97),f=n(99),u=n(100),l=n(101),v=n(102);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=e.self,r=e.selfDef,a=e.eventOptions,c=e.container,f=a.added,u=a.silent,l=f,v=0,d=l.length;t=l[v],v<d;v++)if(t&&"object"==typeof t){s({item:t,selfDef:r});var h=o({selfDef:r,self:n,item:t,eventOptions:a}),p=h.node,g=h.itemEventOptions;p&&(c.appendChild(p),u||i(t,"afterrender",g))}}var o=n(62),i=n(20),s=n(95);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.selfDef,n=e.self,r=e.item,v=e.eventOptions,d=r.renderer,h=r.bindRenderedAsSandbox,p=void 0===h||h,g=n.itemRenderer,y=d||g,b=y===d?r:n,m=t.id,k=v.moveSandbox,x=v.forceRerender,j=v.silent;if(!y)return{node:null};var O=c(r),_=O.renderedInArrays,w=void 0===_?{}:_;if(k){var A=O.props.sandbox;if(A){var M=A.bindings,E=M?M[0].node:null;if(E){for(var D=0,S=Object.keys(w);D<S.length;D++){var N=S[D];if(E===w[N]){delete w[N];break}}return w[m]=E,{node:E,itemEventOptions:{node:E,self:r,parentArray:n}}}}}if(O.renderedInArrays=w,"function"==typeof y&&(y=y.call(b,r)),"string"==typeof y)if(l.test(y))y=y.trim();else{var V=y;if(y=u(n,V),!y.length)throw f("array:renderer_node_missing",{selector:V});y=y[0].innerHTML.trim()}var C=o(r,y,v);if(1!==C.length)throw f("array:rendered_number_nodes",{length:C.length});var $=w[m]=C[0];if(p&&(x&&s(r,"sandbox",null,null,v),i(r,"sandbox",$,null,v)),!j){var I={node:$,self:r,parentArray:n},R=r.onRender,B=n.onItemRender;return R&&R.call(r,I),B&&B.call(n,r,I),a(r,"render",I),{node:$,itemEventOptions:I}}return{node:$}}var o=n(63),i=n(82),s=n(87),a=n(20),c=n(18),f=n(25),u=n(83),l=/</;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"object"==typeof this&&this.isMatreshka?(n=t,t=e,e=this):o(e,"parseBindings");var r={useExactBinder:!0,fromParser:!0,setValueOnBind:!0};if("object"==typeof n)for(var u,l=r,v=n,d=Object.keys(v),h=d.length,p=0;p<h;p++)u=d[p],l[u]=v[u];var g=void 0,y=[],b=s.leftBracket,m=s.bindingReg;if("string"==typeof t)if(~t.indexOf("<")){if(g=i.$.parseHTML(t),!~t.indexOf(b))return g}else g=f(e,t);else"object"==typeof t&&(g=i.$(t));for(var k,x=g,j=0,O=x.length;k=x[j],j<O;j++)y.push(k);for(var _=function(t){var n=y[t],o=1,i=3;if(n.nodeType!==o)return"continue";var s=n.outerHTML,f=n.innerHTML,u=n.childNodes,l=n.attributes;if(!~s.indexOf(b))return"continue";if(l.length)for(var v,d=l,h=0,p=d.length;v=d[h],h<p;h++)m.test(v.value)&&c({node:n,attribute:v,object:e,eventOptions:r});if(!~f.indexOf(b))return"continue";for(var g=0;g<u.length;g++){var k=u[g],x=k.nodeType,j=k.textContent;x===o?y.push(k):x===i&&m.test(j)&&a({object:e,node:n,textNode:k,eventOptions:r})}},w=0;w<y.length;w++){_(w)}return g}var o=n(24),i=n(29),s=n(64),a=n(81),c=n(92),f=n(83);e.exports=r},function(e,t,n){"use strict";var r=n(65),o=n(11),i={};r(i,{leftBracket:{source:{object:o,key:"left"}},rightBracket:{source:{object:o,key:"right"}},escLeftBracket:{source:"leftBracket",handler:function(e){return e.replace(/(\[|\(|\?)/g,"\\$1")}},escRightBracket:{source:"rightBracket",handler:function(e){return e.replace(/(\]|\)|\?)/g,"\\$1")}},bindingReg:{source:["escLeftBracket","escRightBracket"],handler:function(e,t){return new RegExp(e+"\\s*(.+?)\\s*"+t,"g")}},strictBindingReg:{source:["escLeftBracket","escRightBracket"],handler:function(e,t){return new RegExp("^"+e+"\\s*(.+?)\\s*"+t+"$","g")}}},{debounceCalc:!1}),e.exports=i},function(e,t,n){"use strict";function r(e,t,n,l,v){if("object"==typeof this&&this.isMatreshka?(v=l,l=n,n=t,t=e,e=this):i(e,"calc"),t instanceof Object){for(var d,h,p=t,g=Object.keys(p),y=0,b=g.length;d=g[y],h=p[d],y<b;y++){var m=h.source,k=h.handler,x=h.event,j=n,O={};if(j)for(var _,w=O,A=j,M=Object.keys(A),E=M.length,D=0;D<E;D++)_=M[D],w[_]=A[_];if(x)for(var S,N=O,V=x,C=Object.keys(V),$=C.length,I=0;I<$;I++)S=C[I],N[S]=V[S];r(e,d,m,k,O)}return e}if("string"!=typeof t)throw s("calc:target_type",{target:t});v=v||{};var R=o(e),B=v,T=B.setOnInit,H=void 0===T||T,L=B.debounceCalcOnInit,K=void 0!==L&&L,P=B.debounceCalc,J=void 0===P||P,W=B.debounceCalcDelay,q=void 0===W?0:W,F=B.isTargetPropertyHidden,U=void 0!==F&&F,G=function(e){return e},z=l||G,X=[],Y=f({object:e,eventOptions:v,allSources:X,target:t,def:R,handler:z}),Z=void 0,Q=void 0;(K||J)&&(Z=a(Y,q)),u(e,t,U),n instanceof Array||(n=[n]),Q=J?Z:Y;for(var ee,te=n,ne=0,re=te.length;ee=te[ne],ne<re;ne++)"string"==typeof ee?c({calcHandler:Q,allSources:X,sourceKey:ee,sourceObject:e,eventOptions:v}):!function(){if(!ee||"object"!=typeof ee)throw s("calc:source_type",{source:ee});var e=ee.key,t=ee.object;if(e instanceof Array)for(var n,r=e,o=0,i=r.length;n=r[o],o<i;o++)c({calcHandler:Q,allSources:X,sourceKey:n,sourceObject:t,eventOptions:v});else c({calcHandler:Q,allSources:X,sourceKey:e,sourceObject:t,eventOptions:v})}();return H&&(K?Z():Y()),e}var o=n(18),i=n(24),s=n(25),a=n(66),c=n(67),f=n(79),u=n(22);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=void 0,i=void 0;return"number"!=typeof t?(n=t,i=0):i=t||0,function(){var t=arguments,s=n||this;clearTimeout(r),r=setTimeout(function(){return o(e,s,t)},i)}}var o=n(21);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.calcHandler,n=e.allSources,r=e.sourceKey,a=e.sourceObject,c=e.eventOptions,f=c.exactKey,u=void 0!==f&&f,l=!1;if("string"!=typeof r)throw s("calc:source_key_type",{sourceKey:r});if(!a||"object"!=typeof a)throw s("calc:source_object_type",{sourceObject:a});if(!u){var v=r.split(".");v.length>1?(l=!0,i(a,v,t)):u=!0}u&&o(a,"_change:deps:"+r,t),n.push({sourceKey:r,sourceObject:a,isDelegated:l})}var o=n(17),i=n(68),s=n(25);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.handler,n=e.restPath,r=function(e){var r,i,a,c,f,u={};for(u.restPath=n,c=e,r=Object.keys(c),i=r.length,a=0;a<i;a++)f=r[a],u[f]=c[f];var l=u,v=e.previousValue,d=e.value;v&&"object"==typeof v&&s(v,n,t),d&&"object"==typeof d&&o(d,n,t),t.call(this,l)};return r._callback=t,r}function o(e,t,n){"string"==typeof t&&(t=t.split("."));for(var o=0;o<t.length;o++){var s=t.slice(0,o),a=t.slice(o+1);i(e,s,"_change:tree:"+t[o],r({handler:n,restPath:a}))}}var i=n(69),s=n(78);e.exports=o},function(e,t,n){"use strict";function r(e,t,n,l,v){var d=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],h="string"==typeof t&&""!==t?t.split("."):t;if(h&&h.length){var p=h[0],g=void 0;if(h.length>1){for(var y=h,b=y.length,m=1,k=b,x=0,j=Array(k-m);m<k;)j[x++]=y[m++];h=j,g=h.join(".")}else h=[],g=h[0]||"";var O={path:h,name:n,callback:l,context:v,info:d,object:e};if("*"===p){if(e.isMatreshkaArray)o(e,"_asterisk:add",s,null,{delegatedData:O,pathStr:g,skipChecks:!0}),o(e,"_asterisk:remove",c,null,{delegatedData:O,pathStr:g,skipChecks:!0}),s({added:e},O);else if(e.isMatreshkaObject){var _=i.get(e);
o(e,"_asterisk:set",a,null,{delegatedData:O,pathStr:g,skipChecks:!0}),o(e,"_asterisk:remove",f,null,{delegatedData:O,pathStr:g,skipChecks:!0});for(var w,A,M=_.keys,E=Object.keys(M),D=0,S=E.length;w=E[D],A=M[w],D<S;D++){var N=e[w];N&&"object"==typeof N&&r(N,h,n,l,v,d)}}}else o(e,"_change:delegated:"+p,u,null,{delegatedData:O,pathStr:g}),u({value:e[p]},O)}else o(e,n,l,v,d)}var o=n(17),i=n(19),s=n(70),a=n(71),c=n(72),f=n(76),u=n(77);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,r=e.added,i=arguments.length<=1||void 0===arguments[1]?o.latestEvent.info.delegatedData:arguments[1],s=i.path,a=i.name,c=i.callback,f=i.context,u=i.info,l=r,v=0,d=l.length;t=l[v],v<d;v++)if(t&&"object"==typeof t){var h=n(69);h(t,s,a,c,f,u)}}var o=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.key,r=arguments.length<=1||void 0===arguments[1]?o.latestEvent.info.delegatedData:arguments[1],s=r.path,a=r.name,c=r.callback,f=r.context,u=r.info,l=r.object;if(t){var v=l[t];if(v&&"object"==typeof v){var d=i.get(l);if(t in d.keys){var h=n(69);h(v,s,a,c,f,u)}}}}var o=n(20),i=n(19);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.removed,n=arguments.length<=1||void 0===arguments[1]?i.latestEvent.info.delegatedData:arguments[1],r=n.path,s=n.name,a=n.callback,c=n.context,f=n.info;if(t&&t.length)for(var u,l=t,v=0,d=l.length;u=l[v],v<d;v++)u&&"object"==typeof u&&o(u,r,s,a,c,f)}var o=n(73),i=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=e.delegatedEventName,r=e.pathStr,o=e.allEvents,i=[],s=o[n],a=s,c=0,f=a.length;t=a[c],c<f;c++)t.info.pathStr!==r&&i.push(t);i.length?o[n]=i:delete o[n]}function o(e,t,n,a,c){var f=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],u=i.get(e);if(u){var l=u.events,v="string"==typeof t&&""!==t?t.split("."):t;if(v&&v.length){var d=v[0],h=void 0;if(v.length>1){for(var p=v,g=p.length,y=1,b=g,m=0,k=Array(b-y);y<b;)k[m++]=p[y++];v=k,h=v.join(".")}else v=[],h=v[0]||"";if("*"===d){if(e.isMatreshkaArray){var x="_asterisk:add";l[x]&&r({delegatedEventName:x,pathStr:h,allEvents:l});var j="_asterisk:remove";if(l[j]&&r({delegatedEventName:j,pathStr:h,allEvents:l}),e.length)for(var O,_=e,w=0,A=_.length;O=_[w],w<A;w++)O&&"object"==typeof O&&o(O,v,n,a,c,f)}else if(e.isMatreshkaObject){var M="_asterisk:set";l[M]&&r({delegatedEventName:M,pathStr:h,allEvents:l});var E="_asterisk:remove";l[E]&&r({delegatedEventName:E,pathStr:h,allEvents:l}),e.each(function(e){e&&"object"==typeof e&&o(e,v,n,a,c,f)})}}else{var D="_change:delegated:"+d;l[D]&&r({delegatedEventName:D,pathStr:h,allEvents:l}),"object"==typeof e[d]&&o(e[d],v,n,a,c,f)}}else s(e,n,a,c,f)}}var i=n(19),s=n(74);e.exports=o},function(e,t,n){"use strict";function r(e,t,r,a,c){var f=o.get(e);if(!f)return!1;var u=f.events,l=u[t],v=[],d=!!t&&"_"===t[0],h=s.exec(t);if(h){var p=h[1],g=h[2],y=void 0===g?"sandbox":g,b=h[3],m=n(75);return m(e,y,p,b,r,a,c),!0}if("undefined"==typeof t){if(!d)for(var k,x,j=u,O=Object.keys(j),_=0,w=O.length;k=O[_],x=j[k],_<w;_++)for(var A,M=x,E=0,D=M.length;A=M[E],E<D;E++){var S={allEventsName:k,callback:A.callback,context:A.context};i(e,"removeevent:"+t,S),i(e,"removeevent",S)}f.events={}}else if(l){for(var A,N=l,V=0,C=N.length;A=N[V],V<C;V++){var $=r&&r._callback||r,I=A.callback._callback||A.callback;if($&&$!==I||a&&a!==A.context)v.push(A);else{var R={name:t,callback:A.callback,context:A.context};d||(i(e,"removeevent:"+t,R),i(e,"removeevent",R))}}v.length?u[t]=v:delete f.events[t]}return!1}var o=n(19),i=n(20),s=n(27);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,a,c,f){var u=o.get(e);if(!u)return e;var l=u.props,v=l[t];if(!v)return e;var d=v.bindings;return d&&!function(){for(var e,o=Array(d.length),i=u.id+t,c=d,f=0,l=c.length;e=c[f],f<l;f++)o[f]=e.node;s.$(o).off(n+"."+i,r,a)}(),i(e,"bind:"+t,a,c,f),i(e,"unbind:"+t,a,c,f),e}var o=n(19),i=n(74),s=n(29);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.value,n=arguments.length<=1||void 0===arguments[1]?i.latestEvent.info.delegatedData:arguments[1],r=n.path,s=n.name,a=n.callback,c=n.context,f=n.info;t&&"object"==typeof t&&o(t,r,s,a,c,f)}var o=n(73),i=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.previousValue,r=e.value,s=arguments.length<=1||void 0===arguments[1]?i.latestEvent.info.delegatedData:arguments[1],a=s.path,c=s.name,f=s.callback,u=s.context,l=s.info;if(r&&"object"==typeof r){var v=n(69);v(r,a,c,f,u,l)}t&&"object"==typeof t&&o(t,a,c,f,u,l)}var o=n(73),i=n(20);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"string"==typeof t&&(t=t.split("."));for(var r=0;r<t.length;r++){var i=t.slice(0,r);o(e,i,"_change:tree:"+t[r],n)}}var o=n(73);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.eventOptions,r=e.allSources,a=e.target,c=e.def,f=e.handler;return function(){var e,u,l,v,d,h=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],p=[],g=h.protector,y=void 0===g?{}:g,b=a+c.id,m={};for(m.protector=y,v=n,e=Object.keys(v),u=e.length,l=0;l<u;l++)d=e[l],m[d]=v[d];for(v=h,e=Object.keys(v),u=e.length,l=0;l<u;l++)d=e[l],m[d]=v[d];var k=m;if(!(b in y)){y[b]=!0;for(var x,j=r,O=0,_=j.length;x=j[O],O<_;O++){var w=x.sourceObject,A=x.sourceKey,M=x.isDelegated,E=M?i(w,A):w[A];p.push(E)}var D=s(f,t,p);o(t,a,D,k)}}}var o=n(23),i=n(80),s=n(21);e.exports=r},function(e,t){"use strict";function n(e,t){for(var n="string"==typeof t?t.split("."):t,r=e,o=0;o<n.length;++o){if("undefined"==typeof r[n[o]])return;r=r[n[o]]}return r}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.node,r=e.textNode,a=e.eventOptions,c=o.bindingReg,f=r.textContent,u=window,l=u.document;c.lastIndex=0;for(var v,d=f.split(c),h=l.createDocumentFragment(),p=d,g=0,y=p.length;v=p[g],g<y;g++)if(v){var b=l.createTextNode(v);h.appendChild(b),g%2!==0&&i(t,v,b,s,a)}n.insertBefore(h,r),n.removeChild(r)}var o=n(64),i=n(82),s={setValue:function(e){this.textContent="undefined"==typeof e?"":e}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,v,d){"object"==typeof this&&this.isMatreshka?(d=v,v=n,n=t,t=e,e=this):f(e,"bindNode"),d=d||{},v=v||{},o(e);var h=r.temporaryOptionalFlag;if(delete r.temporaryOptionalFlag,!t)throw u("binding:falsy_key");if(t instanceof Array){if("string"==typeof t[0]){if(h){var p,g,y,b,m,k={};for(b=d,p=Object.keys(b),g=p.length,y=0;y<g;y++)m=p[y],k[m]=b[m];k.optional=!0,d=k}for(var x,j=t,O=0,_=j.length;x=j[O],O<_;O++)r(e,x,n,v,d)}else for(var w,A=t,M=0,E=A.length;w=A[M],M<E;M++){var x=w.key,D=w.node,S=w.binder,N=w.event,V=n,C={};if(h&&(C.optional=!0),V)for(var $,I=C,R=V,B=Object.keys(R),T=B.length,H=0;H<T;H++)$=B[H],I[$]=R[$];if(N)for(var L,K=C,P=N,J=Object.keys(P),W=J.length,q=0;q<W;q++)L=J[q],K[L]=P[L];r(e,x,D,S,C)}return e}if("object"==typeof t){for(var F,U,G=t,z=Object.keys(G),X=0,Y=z.length;F=z[X],U=G[F],X<Y;X++){if(h){var Z,Q,ee,te,ne,re={};for(te=v,Z=Object.keys(te),Q=Z.length,ee=0;ee<Q;ee++)ne=Z[ee],re[ne]=te[ne];re.optional=!0,d=v?re:{optional:!0}}else d=v;if(U&&U.constructor===Object&&"node"in U)r(e,F,U.node,U.binder||n,d);else if(U&&U.constructor===Array&&U.length&&U[0].constructor===Object&&"node"in U[0])for(var oe,ie=U,se=0,ae=ie.length;oe=ie[se],se<ae;se++)r(e,F,oe.node,oe.binder||n,d);else r(e,F,U,n,d)}return e}var ce=d,fe=ce.optional,ue=void 0===fe?h||!1:fe,le=ce.exactKey,ve=void 0!==le&&le,de=s(e,n);if(!de.length){if(ue)return e;throw u("binding:node_missing",{key:t,node:n})}if(!ve){var he=t.split("."),pe=he.length;if(pe>1){var ge=a({object:e,deepPath:he,$nodes:de,binder:v,eventOptions:d,bindNode:r});return l(e,he.slice(0,pe-1),ge),ge(),e}}var ye=i(e,t);if(e.isMatreshka){var be=e,me=be.$nodes,ke=be.nodes;if(!me||!ke)throw u("binding:instance_nodes_missing",{$nodes:me,nodes:ke});me[t]=me[t]&&me[t].length?me[t].add(de):de,ke[t]=me[t][0]}for(var xe,je=de,Oe=0,_e=je.length;xe=je[Oe],Oe<_e;Oe++)c(e,{$nodes:de,node:xe,key:t,eventOptions:d,binder:v,propDef:ye});return e}var o=n(18),i=n(22),s=n(83),a=n(86),c=n(89),f=n(24),u=n(25),l=n(68);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=void 0;return n="string"==typeof t&&!s.test(t)&&a.test(t)?o(e,t):i.$(t)}var o=n(84),i=n(29),s=/</,a=/:sandbox|:bound\(([^(]*)\)/;e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n,r=o.get(e),c=r.props,f=t.split(","),u=s.$(),l=f,v=0,d=l.length;n=l[v],v<d;v++){var h=a.exec(n);h?!function(){var e=void 0!==h[3]?"sandbox":h[1],t=void 0!==h[3]?h[3]:h[2],n=c[e];if(n){var r=n.bindings;r&&!function(){for(var e,n=Array(r.length),o=r,s=0,a=o.length;e=o[s],s<a;s++)n[s]=e.node;if(t)if(0===t.indexOf(">"))for(var c,f=n,l=0,v=f.length;c=f[l],l<v;l++){var d=("m"+Math.random()).replace(".","");c.setAttribute(d,d);var h=c.querySelectorAll("["+d+'="'+d+'"] '+t);u=u.add(i(h)),c.removeAttribute(d)}else for(var c,p=n,g=0,y=p.length;c=p[g],g<y;g++){var h=c.querySelectorAll(t);u=u.add(i(h))}else u=u.add(n)}()}}():u=u.add(n)}return u}var o=n(19),i=n(85),s=n(29),a=/\s*:bound\(([^(]*)\)\s*([\S\s]*)\s*|\s*:sandbox\s*([\S\s]*)\s*/;e.exports=r},function(e,t){"use strict";function n(e){for(var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=e.length,r=Array(n),o=t;o<n;o++)r[o-t]=e[o];return r}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.deepPath,r=e.$nodes,i=e.binder,s=e.eventOptions,a=e.bindNode;return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=n.length,f=n[c-1],u=e.value,l=e.previousValue,v=e.restPath,d=void 0,h=void 0;if(u&&"object"==typeof u&&v){d=u;for(var p=0;p<v.length&&(d=d[v[p]],d);p++);}else{d=t;for(var g=0;g<c-1&&(d=d[n[g]],d);g++);}if(l&&"object"==typeof l&&v){h=l;for(var y=0;y<v.length&&(h=h[v[y]],h);y++);}d&&"object"==typeof d&&a(d,f,r,i,s),h&&"object"==typeof h&&o(h,f,r)}}var o=n(87);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,u){if("object"==typeof this&&this.isMatreshka?(u=n,n=t,t=e,e=this):o(e,"unbindNode"),t instanceof Array){if("string"==typeof t[0])for(var l,v=t,d=0,h=v.length;l=v[d],d<h;d++)r(e,l,n,u);else for(var p,g=t,y=0,b=g.length;p=g[y],y<b;y++){var l=p.key,m=p.node,k=p.event,x=n,j={};if(x)for(var O,_=j,w=x,A=Object.keys(w),M=A.length,E=0;E<M;E++)O=A[E],_[O]=w[O];if(k)for(var D,S=j,N=k,V=Object.keys(N),C=V.length,$=0;$<C;$++)D=V[$],S[D]=N[D];r(e,l,m,j)}return e}if(t&&"object"==typeof t){for(var I,R,B=t,T=Object.keys(B),H=0,L=T.length;I=T[H],R=B[I],H<L;H++)if(R.constructor===Object&&"node"in R)r(e,I,R.node,n);else if(R.constructor===Array&&R.length&&R[0].constructor===Object&&"node"in R[0])for(var K,P=R,J=0,W=P.length;K=P[J],J<W;J++)r(e,I,K.node,n);else r(e,I,R,n);return e}u=u||{};var q=u,F=q.deep,U=i.get(e);if(!U)return e;var G=U.props;if(null===t||"undefined"==typeof t){for(var z,X,Y=G,Z=Object.keys(Y),Q=0,ee=Z.length;z=Z[Q],X=Y[z],Q<ee;Q++)r(e,z,null,u);return e}if(F!==!1){var te=t.split("."),ne=te.length;if(ne>1){for(var re=e,oe=0;oe<ne-1;oe++)re=re[te[oe]];return a(e,te.slice(0,ne-2)),r(re,te[ne-1],n,u),e}}var ie=G[t];if(!ie)return e;var se=ie.bindings;if(!se)return e;if(!n){for(var ae,ce=se,fe=0,ue=ce.length;ae=ce[fe],fe<ue;fe++)c({object:e,key:t,eventOptions:u,binding:ae});return ie.bindings=null,e.isMatreshka&&(delete e.nodes[t],delete e.$nodes[t]),e}for(var le,ve=s(e,n),de=[],he=[],pe=ve,ge=0,ye=pe.length;le=pe[ge],ge<ye;ge++)for(var ae,be=se,me=0,ke=be.length;ae=be[me],me<ke;me++)ae.node===le?c({object:e,key:t,eventOptions:u,binding:ae}):(de.push(ae),he.push(le));return e.isMatreshka&&(he.length?(e.nodes[t]=he[0],e.$nodes[t]=f.$(he)):(delete e.nodes[t],delete e.$nodes[t])),de.length?ie.bindings=de:ie.bindings=null,e}var o=n(24),i=n(19),s=n(83),a=n(78),c=n(88),f=n(29);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.key,r=e.eventOptions,a=e.binding,c=a.bindingOptions,f=a.binder,u=a.node,l=a.nodeHandler,v=a.objectHandler,d=f.destroy,h=f.on,p=r.silent;if("function"==typeof h)l.disabled=!0;else if("string"==typeof h)for(var g,y=h.split(s),b=0,m=y.length;g=y[b],b<m;b++)u.removeEventListener(g,l);if(o(t,"_change:bindings:"+n,v),d&&d.call(u,c),!p){var k,x,j,O,_,w={};for(w.key=n,w.node=u,O=r,k=Object.keys(O),x=k.length,j=0;j<x;j++)_=k[j],w[_]=O[_];var A=w;i(t,"unbind:"+n,A),i(t,"unbind",A)}}var o=n(74),i=n(20),s=/\s+/;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=t.binder,r=t.key,v=t.$nodes,d=t.node,h=t.eventOptions,p=t.propDef,g=h.silent,y=h.getValueOnBind,b=h.setValueOnBind,m=h.debounceSetValue,k=void 0===m||m,x=h.debounceGetValue,j=void 0===x||x,O=h.debounceSetValueOnBind,_=void 0!==O&&O,w=h.debounceGetValueOnBind,A=void 0!==w&&w,M=h.debounceSetValueDelay,E=void 0===M?0:M,D=h.debounceGetValueDelay,S=void 0===D?0:D,N=h.useExactBinder,V=void 0!==N&&N,C=p.bindings=p.bindings||[],$=p.value,I={self:e,key:r,value:$,$nodes:v,node:d},R="undefined"==typeof $,B=void 0,T=void 0,H=void 0;if(C.length&&("sandbox"===r||e.isMatreshkaArray&&"container"===r))throw u("binding:magic_props_nodes_length");if(null!==n)if(V)B=n;else{var L=o(d);if(L){if(n)for(var K,P=L,J=n,W=Object.keys(J),q=W.length,F=0;F<q;F++)K=W[F],P[K]=J[K];B=L}else B=n||{}}var U=B,G=U.getValue,z=U.setValue,X=U.on,Y=U.initialize;if(Y&&Y.call(d,I),G){var Z=i({object:e,key:r,node:d,propDef:p,binder:B,bindingOptions:I}),Q=void 0;if((j||A)&&(Q=f(Z,S)),H=j?Q:Z,"function"==typeof X)X.call(d,H,I);else if("string"==typeof X)for(var ee,te=X.split(l),ne=0,re=te.length;ee=te[ne],ne<re;ne++)d.addEventListener(ee,H);(R&&y!==!1||y===!0)&&(A?Q():Z()),R="undefined"==typeof p.value}if(z){var oe=s({node:d,propDef:p,binder:B,bindingOptions:I,eventOptions:h}),ie=void 0;(k||_)&&(ie=f(oe,E)),T=k?ie:oe,c(e,"_change:bindings:"+r,T,null,{skipChecks:!0}),(!R&&b!==!1||b===!0)&&(_?ie():oe())}if(C.push({on:X,node:d,binder:B,objectHandler:T,nodeHandler:H,bindingOptions:I}),!g){var se,ae,ce,fe,ue,le={};for(le.key=r,le.node=d,fe=h,se=Object.keys(fe),ae=se.length,ce=0;ce<ae;ce++)ue=se[ce],le[ue]=fe[ue];var ve=le;a(e,"bind:"+r,ve),a(e,"bind",ve)}}var o=n(10),i=n(90),s=n(91),a=n(20),c=n(17),f=n(66),u=n(25),l=/\s+/;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.key,r=e.node,s=e.propDef,a=e.binder,c=e.bindingOptions;return function f(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!f.disabled){var u,l,v,d,h,p=s.value,g=e.which,y=e.target,b=e.ctrlKey,m=e.altKey,k=a.getValue,x={};for(x.previousValue=p,x.domEvent=e,x.originalEvent=e.originalEvent||e,x.preventDefault=function(){return e.preventDefault()},x.stopPropagation=function(){return e.stopPropagation()},x.which=g,x.target=y,x.ctrlKey=b,x.altKey=m,d=c,u=Object.keys(d),l=u.length,v=0;v<l;v++)h=u[v],x[h]=d[h];var j=k.call(r,x);o(j,p)||i(t,n,j,{fromNode:!0,changedNode:r,onChangeValue:j,binder:a})}}}var o=n(26),i=n(23);e.exports=r},function(e,t){"use strict";function n(e){var t=e.node,n=e.propDef,r=e.binder,o=e.bindingOptions;return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.value,s=e.onChangeValue,a=e.changedNode,c=e.binder,f=r.setValue,u="string"===s&&"number"==typeof i?""+i:i;if(a!==t||s!==u||c!==r){var l,v,d,h,p,g={};for(g.value=i,h=o,l=Object.keys(h),v=l.length,d=0;d<v;d++)p=l[d],g[p]=h[p];f.call(t,i,g)}}}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.node,n=e.attribute,r=e.object,c=e.eventOptions,f=n.name,u=n.value,l=t.type,v=o({object:r,text:u}),d="value"===f&&"checkbox"!==l&&"radio"!==l,h="checked"===f&&("checkbox"===l||"radio"===l),p=void 0;(d||h)&&(p=s(t)),p?(t.setAttribute(f,""),i(r,v,t,p,c)):i(r,v,n,a,c)}var o=n(93),i=n(82),s=n(10),a={setValue:function(e){this.value=e}};e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.text,r=o.strictBindingReg,s=o.bindingReg,a=[],c=void 0,f=void 0;for(s.lastIndex=0;c=s.exec(n);)a.push(c[1]);return f=1===a.length&&r.test(n)?a[0]:i({object:t,keys:a,text:n})}var o=n(64),i=n(94);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.keys,r=e.text,c=""+s+a,f={},u=i.escLeftBracket,l=i.escRightBracket;a+=1;for(var v=0;v<n.length;v++)f[n[v]]=new RegExp(u+n[v]+l,"g");return o(t,c,n,function(){for(var e=r,t=0;t<n.length;t++)e=e.replace(f[n[t]],arguments[t]);return e},{isTargetPropertyHidden:!0,debounceCalc:!1}),c}var o=n(65),i=n(64),s=(""+Math.random()).replace("0.","hidden"),a=0;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.item,n=e.selfDef,r=o.get(t),s=n.id;if(r){var a=r.renderedInArrays;if(a&&a[s])throw i("array:add_render_twice")}}var o=n(19),i=n(25);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=e.self,n=e.selfDef,r=e.eventOptions,a=e.container,c=r.added,f=r.silent,u=c.length-1;u+1;u--){var l=c[u];if(l&&"object"==typeof l){s({item:l,selfDef:n});var v=o({selfDef:n,self:t,item:l,eventOptions:r}),d=v.node,h=v.itemEventOptions;d&&(a.firstChild?a.insertBefore(d,a.firstChild):a.appendChild(d),f||i(l,"afterrender",h))}}}var o=n(62),i=n(20),s=n(95);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=e.self,r=e.selfDef,f=e.eventOptions,u=e.container,l=f.removed,v=f.silent,d=r.id,h=l,p=0,g=h.length;t=h[p],p<g;p++){var y=s.get(t);if(y){var b=y.renderedInArrays,m=b&&b[d];m&&(delete y.renderedInArrays[d],u.removeChild(m))}}for(var t,k={},x=n,j=0,O=x.length;t=x[j],j<O;j++)if(t&&"object"==typeof t){var y=s.get(t),_=void 0;if(y&&(_=c({item:t,selfDef:r})),_){if(y.id in k)throw a("array:add_render_twice");k[y.id]=!0,u.appendChild(_)}else{var w=o({selfDef:r,self:n,item:t,eventOptions:f}),m=w.node,A=w.itemEventOptions;if(m){if(y=y||s.get(t),y.id in k)throw a("array:add_render_twice");k[y.id]=!0,u.appendChild(m),v||i(t,"afterrender",A)}}}}var o=n(62),i=n(20),s=n(19),a=n(25),c=n(98);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.item,n=e.selfDef,r=o.get(t),i=n.id;if(r){var s=r.renderedInArrays;if(s&&s[i])return s[i]}}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=e.self,r=e.selfDef,i=e.container,s=n,a=0,c=s.length;t=s[a],a<c;a++)if(t&&"object"==typeof t){var f=o({item:t,selfDef:r});f&&i.appendChild(f)}}var o=n(98);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=e.selfDef,r=e.eventOptions,i=e.container,s=r.removed,a=n.id,c=s,f=0,u=c.length;t=c[f],f<u;f++)if(t&&"object"==typeof t){var l=o.get(t);if(l){var v=l.renderedInArrays,d=v&&v[a];d&&(delete v[a],i.removeChild(d))}}}var o=n(19);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=e.self,n=e.selfDef,r=e.eventOptions,a=e.container,c=r.forceRerender,f=r.silent,u=0;u<t.length;u++){var l=t[u];if(l&&"object"==typeof l){var v=o({item:l,selfDef:n});if(!c&&v){a.appendChild(v);continue}v&&a.contains(v)&&a.removeChild(v);var d=i({selfDef:n,self:t,item:l,eventOptions:r}),h=d.node,p=d.itemEventOptions;h&&(a.appendChild(h),f||s(l,"afterrender",p))}}}var o=n(98),i=n(62),s=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.self,n=e.selfDef,r=e.eventOptions,c=e.container,f=r.added,u=r.silent,l=t.lastIndexOf(f[f.length-1])+1,v=t[l],d=void 0;v&&"object"==typeof v&&(d=a({item:v,selfDef:n}));for(var h,p=f,g=0,y=p.length;h=p[g],g<y;g++)if(h&&"object"==typeof h){s({item:h,selfDef:n});var b=o({selfDef:n,self:t,item:h,eventOptions:r}),m=b.node,k=b.itemEventOptions;m&&(d?c.insertBefore(m,d):c.appendChild(m),u||i(h,"afterrender",k))}}var o=n(62),i=n(20),s=n(95),a=n(98);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=t;n<e.length;n++)e[n]=e[n+1];delete e[e.length-1],e.length-=1}function o(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return r(e,n),t}function i(e,t){if(t<e.length){var n=e[t];return r(e,t),n}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=typeof e,r=void 0;if(e&&"object"===n)r=o(this,e);else{if("number"!==n)throw c("pull:to_remove_type",{toRemove:e});r=i(this,e)}if("undefined"!=typeof r){var s,f,u,l,v,d={};for(d.method="pull",d.self=this,d.added=[],d.removed=[r],l=t,s=Object.keys(l),f=s.length,u=0;u<f;u++)v=s[u],d[v]=l[v];a(this,d)}return r}var a=n(59),c=n(25);e.exports=s},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=o(this),r=n.itemMediator,a=e.length,c=this.length,f=c-a,u=this.toJSON(!1),l=this.trackBy,v=t.skipItemMediator,d=t.silent,h=t.dontRender,p=void 0,g=void 0,y=void 0;if(y=l?s({arr:this,givenNewItems:e,trackBy:l}):e,r&&!v){var b=y;y=Array(a);for(var m=0;m<a;m++)y[m]=r(b[m],m)}for(var k=0;k<a;k++)this[k]=y[k];for(var x=0;x<f;x++)delete this[x+a];if(this.length=a,d&&h)return this;if(a)if(c){g=[];for(var j=0;j<c;j++)~y.indexOf(u[j])||g.push(u[j])}else g=[];else g=u;if(c)if(a){p=[];for(var O=0;O<a;O++)~u.indexOf(y[O])||p.push(y[O])}else p=[];else p=y;var _,w,A,M,E,D={};for(D.added=p,D.removed=g,D.method="recreate",D.self=this,M=t,_=Object.keys(M),w=_.length,A=0;A<w;A++)E=_[A],D[E]=M[E];return i(this,D),this}var o=n(18),i=n(59),s=n(105);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.givenNewItems,n=e.arr,r=e.trackBy,i=t.length,s=n.length,a=Array(i);if("$index"===r)for(var c=0;c<i;c++){var f=n[c],u=t[c];f&&"object"==typeof f&&u&&"object"==typeof u?a[c]=o(f,u):a[c]=u}else{for(var l={},v=0;v<s;v++){var d=n[v];d&&"object"==typeof d&&r in d&&(l[d[r]]=d)}for(var h=0;h<i;h++){var p=t[h];if(p&&"object"==typeof p){var g=n[h];g&&"object"==typeof g&&p[r]in l?a[h]=o(l[p[r]],p):a[h]=p}else a[h]=p}}return a}var o=n(106);e.exports=r},function(e,t){"use strict";function n(e,t){if(e.isMatreshkaArray)e.recreate(t);else if(e.isMatreshkaObject)e.setData(t);else for(var n,r,o=t,i=Object.keys(o),s=0,a=i.length;n=i[s],r=o[n],s<a;s++)e[n]=r;return e}e.exports=n},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=this.renderIfPossible,n=void 0===t||t;if(n){var r,i,s,a,c,f={};for(f.method="rerender",f.added=[],f.removed=[],a=e,r=Object.keys(a),i=r.length,s=0;s<i;s++)c=r[s],f[c]=a[c];o({self:this,eventOptions:f})}return this}var o=n(60);e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=o(this),f=this.Model,u=n.silent,l=[],v=void 0;if("string"==typeof e)v=c(this,e);else{var d=this.nodes.container||this.nodes.sandbox;if(!d)throw i("restore:no_nodes");v=d.children}for(var h,p=v,g=0,y=p.length;h=p[g],g<y;g++){var b,m=f?new f({},t,g):{},k=m.bindRenderedAsSandbox,x=o(m);if(x.renderedInArrays=(b={},b[r.id]=h,b),k!==!1&&s(m,"sandbox",h,null,n),!u){var j={node:h,self:m,parentArray:t},O=m.onRender,_=t.onItemRender;O&&O.call(m,j),_&&_.call(t,m,j),a(m,"render",j),a(m,"afterrender",j)}l.push(m)}var w,A,M,E,D,S={};for(S.dontRender=!0,E=n,w=Object.keys(E),A=w.length,M=0;M<A;M++)D=w[M],S[D]=E[D];return this.recreate(l,S)}var o=n(18),i=n(25),s=n(82),a=n(20),c=n(83);e.exports=r},function(e,t){"use strict";function n(){for(var e,t=arguments.length<=0||void 0===arguments[0]||arguments[0],n=new Array(this.length),r=this,o=0,i=r.length;e=r[o],o<i;o++)t&&e&&"function"==typeof e.toJSON?n[o]=e.toJSON(!0):n[o]=e;return n}e.exports=n},function(e,t,n){"use strict";var r=n(111),o=n(119),i=n(120),s=n(121),a=n(122),c=/\s+/,f={concat:o,keys:i,values:s,entries:a};"push pop unshift shift sort reverse splice map filter slice every some reduce reduceRight\nforEach join indexOf lastIndexOf copyWithin fill includes find findIndex".split(c).forEach(function(e){f[e]=r(e)}),"push pop unshift shift sort reverse splice copyWithin fill".split(c).forEach(function(e){f[e+"_"]=r(e,!0)}),e.exports=f},function(e,t,n){"use strict";function r(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];switch(e){case"forEach":return function(t,n){return d[e].call(this,t,n),this};case"map":case"filter":case"slice":return function(t,n){return o(d[e].call(this,t,n))};case"every":case"some":case"findIndex":case"find":return function(t,n){var r=d[e];if("function"!=typeof r)throw v("array:nonexistent_method",{method:e});return r.call(this,t,n)};case"join":return function(){var t=arguments.length<=0||void 0===arguments[0]?",":arguments[0];return d[e].call(this,t)};case"indexOf":case"lastIndexOf":case"includes":return function(t,n){var r=d[e];if("function"!=typeof r)throw v("array:nonexistent_method",{method:e});return"undefined"==typeof n?r.call(this,t):r.call(this,t,n)};case"reduce":case"reduceRight":return function(){return l(d[e],this,arguments)};case"sort":case"reverse":return i(e,t);case"pop":case"shift":return s(e,t);case"push":case"unshift":return a(e,t);case"splice":return c(t);case"copyWithin":return f(t);case"fill":return u(t);default:return}}var o=n(112),i=n(113),s=n(114),a=n(115),c=n(116),f=n(117),u=n(118),l=n(21),v=n(25),d=Array.prototype;e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,r=n(52),o=new r(e.length),i=e,s=0,a=i.length;t=i[s],s<a;s++)o[s]=t;return o}e.exports=r},function(e,t,n){"use strict";function r(e,t){return function(n){if(this.length<2)return this;o(this);var r=t?arguments[arguments.length-1]:null,s=Array.prototype[e],a={method:e,self:this,added:[],removed:[]};if("sort"===e&&"function"==typeof n?s.call(this,n):s.call(this),t&&r&&"object"==typeof r)for(var c,f=a,u=r,l=Object.keys(u),v=l.length,d=0;d<v;d++)c=l[d],f[c]=u[c];return i(this,a),this}}var o=n(18),i=n(59);e.exports=r},function(e,t,n){"use strict";function r(e,t){return function(n){if(this.length){o(this);var r=Array.prototype[e].call(this),s={method:e,self:this,added:[],removed:[r]};if(t&&n&&"object"==typeof n)for(var a,c=s,f=n,u=Object.keys(f),l=u.length,v=0;v<l;v++)a=u[v],c[a]=f[a];return i(this,s),r}}}var o=n(18),i=n(59);e.exports=r},function(e,t,n){"use strict";function r(e,t){return function(){var n=o(this),r=n.itemMediator,s=arguments.length-+t,a=Array(s),c=t?arguments[arguments.length-1]:null,f=!("function"!=typeof r||c&&c.skipItemMediator),u="push"===e,l=this.length;if(!s)return l;for(var v=0;v<s;v++){var d=arguments[v];if(f){var h=u?v+l:v;a[v]=r(d,h)}else a[v]=d}if(u)for(var p=0;p<s;p++)this[l+p]=a[p];else{for(var g=l-1;g>=0;g--)this[s+g]=this[g];for(var y=0;y<s;y++)this[y]=a[y]}l+=s,this.length=l;var b={method:e,self:this,added:a,removed:[]};if(t&&c&&"object"==typeof c)for(var m,k=b,x=c,j=Object.keys(x),O=j.length,_=0;_<O;_++)m=j[_],k[m]=x[m];return i(this,b),l}}var o=n(18),i=n(59);e.exports=r},function(e,t,n){"use strict";function r(e){return function(){var t=o(this),n=t.itemMediator,r=arguments,c=r.length-+e,f=Array(c),u=e?r[r.length-1]:null,l=!("function"!=typeof n||u&&u.skipItemMediator),v=[],d=f[0],h=this.length;d=d<0?h+d:d,f[0]=r[0],f[1]=r[1];for(var p=2;p<c;p++){var g=r[p];l?f[p]=n(g,d+(p-2)):f[p]=g,v[p-2]=f[p]}var y=a(Array.prototype.splice,this,f),b=y;if(v.length||b.length){var m={added:v,removed:b,method:"splice",self:this};if(e&&u&&"object"==typeof u)for(var k,x=m,j=u,O=Object.keys(j),_=O.length,w=0;w<_;w++)k=O[w],x[k]=j[k];i(this,m)}return s(y)}}var o=n(18),i=n(59),s=n(112),a=n(21);e.exports=r},function(e,t,n){"use strict";function r(e){return function(){var t=Array.prototype.copyWithin;if("function"!=typeof t)throw s("array:nonexistent_method",{method:"copyWithin"});for(var n=arguments.length-+e,r=Array(n),a=e?arguments[arguments.length-1]:null,c=0;c<n;c++)r[c]=arguments[c];o(t,this,r);var f={method:"copyWithin",self:this,added:[],removed:[]};if(e&&a&&"object"==typeof a)for(var u,l=f,v=a,d=Object.keys(v),h=d.length,p=0;p<h;p++)u=d[p],l[u]=v[u];return i(this,f),this}}var o=n(21),i=n(59),s=n(25);e.exports=r},function(e,t,n){"use strict";function r(e){return function(t){var n=Array.prototype.fill;if("function"!=typeof n)throw s("array:nonexistent_method",{method:"fill"});for(var r=arguments.length-+e,a=Array(r),c=e?arguments[arguments.length-1]:null,f=0;f<r;f++)a[f]=arguments[f];o(n,this,a);var u={method:"fill",self:this,added:[t],removed:[]};if(e&&c&&"object"==typeof c)for(var l,v=u,d=c,h=Object.keys(d),p=h.length,g=0;g<p;g++)l=h[g],v[l]=d[l];return i(this,u),this}}var o=n(21),i=n(59),s=n(25);e.exports=r},function(e,t,n){"use strict";function r(){for(var e,t=n(52),r=Array(arguments.length),i=arguments,s=0,a=i.length;e=i[s],s<a;s++)e&&"object"==typeof e&&e.isMatreshkaArray?r[s]=e.toJSON(!1):r[s]=e;for(var c,f=o(Array.prototype.concat,this.toJSON(!1),r),u=new t,l=f,s=0,v=l.length;c=l[s],s<v;s++)u[s]=c;return u.length=f.length,u}var o=n(21);e.exports=r},function(e,t){"use strict";function n(){for(var e=this.length,t=new Array(e),n=0;n<e;n++)t[n]=n;return t}e.exports=n},function(e,t){"use strict";function n(){for(var e=this.length,t=new Array(e),n=0;n<e;n++)t[n]=this[n];return t}e.exports=n},function(e,t){"use strict";function n(){for(var e=this.length,t=new Array(e),n=0;n<e;n++)t[n]=[n,this[n]];return t}e.exports=n},function(e,t){"use strict";function n(){var e=this,t=0;return{next:function(){return t>e.length-1?{done:!0}:{done:!1,value:e[t++]}}}}e.exports=n},function(e,t,n){"use strict";var r=n(125),o=n(126);e.exports={of:o,from:r}},function(e,t,n){"use strict";function r(e,t,r){var i=this||n(52),s=new i,a=e.length,c=Array.from,f=void 0;if("function"==typeof c)f=c(e,t,r);else{f=Array(a);for(var u=0;u<a;u++)"function"==typeof t?f[u]=t.call(r,e[u],u,e):f[u]=e[u]}return o(s,f)}var o=n(57);e.exports=r},function(e,t,n){"use strict";function r(){for(var e,t=arguments,r=this||n(52),i=new r,s=Array(arguments.length),a=arguments,c=0,f=a.length;e=a[c],c<f;c++)s[c]=t[c];return o(i,s)}var o=n(57);e.exports=r},function(e,t,n){"use strict";var r=n(128),o=n(129),i=n(130),s=n(132),a=n(133),c=n(5),f=n(9),u=n(6),l=n(7),v=n(8),d=n(134),h=n(135),p=n(136);t.html=r,t.display=o,t.className=i,t.prop=s,t.attr=a,t.input=c,t.output=f,t.textarea=u,t.select=l,t.progress=v,t.text=d,t.style=h,t.dataset=p},function(e,t){"use strict";function n(){return{on:"input",getValue:function(){return this.innerHTML},setValue:function(e){this.innerHTML=""+e}}}e.exports=n},function(e,t){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];return{on:null,getValue:function(){var t=this.style.display||window.getComputedStyle(this).getPropertyValue("display"),n="none"===t;return e?!n:n},setValue:function(t){var n=this.style;e?n.display=t?"":"none":n.display=t?"none":""}}}e.exports=n},function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];return{on:null,getValue:function(){var n=s(this,e);return t?n:!n},setValue:function(n){i(this,e,t?!!n:!n)}}}var o=n(131),i=o.toggle,s=o.contains;e.exports=r},function(e,t){"use strict";var n=void 0,r=void 0,o=void 0;window.document.createElement("div").classList?(n=function(e,t){return e.classList.add(t)},r=function(e,t){return e.classList.remove(t)},o=function(e,t){return e.classList.contains(t)}):(n=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.test(e.className)||(e.className=(e.className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,""))},r=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")},o=function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)});var i=function(e,t,o){o?n(e,t):r(e,t)};t.toggle=i,t.contains=o},function(e,t){"use strict";function n(e){return{on:null,getValue:function(){return this[e]},setValue:function(t){try{this[e]=t}catch(n){}}}}e.exports=n},function(e,t){"use strict";function n(e){return{on:null,getValue:function(){return this.getAttribute(e)},setValue:function(t){this.setAttribute(e,t)}}}e.exports=n},function(e,t){"use strict";function n(){return{on:"input",getValue:function(){return this.textContent},setValue:function(e){this.textContent=""+e}}}e.exports=n},function(e,t){"use strict";function n(e){return{on:null,getValue:function(){return this.style[e]||window.getComputedStyle(this).getPropertyValue(e)},setValue:function(t){this.style[e]=t}}}e.exports=n},function(e,t){"use strict";function n(e){return{on:null,getValue:function(){return this.dataset?this.dataset[e]:this.getAttribute(o(e))},setValue:function(t){this.dataset?this.dataset[e]=t:this.setAttribute(o(e),t)}}}var r=function(e){return"-"+e.toLowerCase()},o=function(e){return"data-"+e.replace(/([A-Z])/g,r)};e.exports=n},function(e,t,n){"use strict";var r=n(138),o=n(140),i=n(142),s=n(141),a=n(143),c=n(65),f=n(82),u=n(87),l=n(146),v=n(147),d=n(63),h=n(148),p=n(149),g=n(23),y=n(150),b=n(151),m=n(152);
t.on=r,t.once=o,t.onDebounce=i,t.off=s,t.trigger=a,t.calc=c,t.bindNode=f,t.unbindNode=u,t.bindOptionalNode=l,t.bindSandbox=v,t.parseBindings=d,t.select=h,t.selectAll=p,t.set=g,t.remove=y,t.instantiate=b,t.mediate=m},function(e,t,n){"use strict";function r(e,t,n,f,u){"object"==typeof this&&this.isMatreshka?(u=f,f=n,n=t,t=e,e=this):i(e,"on");var l=t instanceof Array;if(t&&"object"==typeof t&&!l){for(var v,d,h=t,p=Object.keys(h),g=0,y=p.length;v=p[g],d=h[v],g<y;g++)r(e,v,d,n,f);return e}if("string"!=typeof t&&!l)throw s("on:names_type",{names:t});var b=l?t:t.split(o);if("boolean"!=typeof f&&"undefined"!=typeof f){var m=[f,u];u=m[0],f=m[1]}for(var k,x=b,j=0,O=x.length;k=x[j],j<O;j++){var _=k.split("@");if(_.length>1){var w=_[0],A=_[1];c(e,w,A,n,u||e)}else a(e,k,n,u)}return f===!0&&n.call(u||e,{triggerOnInit:f}),e}var o=n(139),i=n(24),s=n(25),a=n(17),c=n(69);e.exports=r},function(e,t){"use strict";e.exports=/\s+(?![^(]*\))/g},function(e,t,n){"use strict";function r(e,t,n,c){"object"==typeof this&&this.isMatreshka?(c=n,n=t,t=e,e=this):i(e,"once");var f=t instanceof Array;if(t&&"object"==typeof t&&!f){for(var u,l,v=t,d=Object.keys(v),h=0,p=d.length;u=d[h],l=v[u],h<p;h++)r(e,u,l,n);return e}var g=function y(){a(n,this,arguments),s(e,t,y,c)};return g._callback=n,o(e,t,g,c)}var o=n(138),i=n(24),s=n(141),a=n(21);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,f){"object"==typeof this&&this.isMatreshka?(f=n,n=t,t=e,e=this):i(e,"off");var u=t instanceof Array,l=s.get(e);if(t&&"object"==typeof t&&!u){for(var v,d,h=t,p=Object.keys(h),g=0,y=p.length;v=p[g],d=h[v],g<y;g++)r(e,v,d,n);return e}if(!t&&!n&&!f)return l.events={},e;for(var b,m=u?t:t.split(o),k=m,x=0,j=k.length;b=k[x],x<j;x++){var O=b.split("@");if(O.length>1){var _=O[0],w=O[1];c(e,_,w,n,f)}else a(e,b,n,f)}return e}var o=n(139),i=n(24),s=n(19),a=n(74),c=n(73);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,a,c,f){"object"==typeof this&&this.isMatreshka?(f=c,c=a,a=n,n=t,t=e,e=this):i(e,"onDebounce");var u=t instanceof Array;if(t&&"object"==typeof t&&!u){for(var l,v,d=t,h=Object.keys(d),p=0,g=h.length;l=h[p],v=d[l],p<g;p++)r(e,l,v,n,a,c);return e}var y="number"==typeof a?a:0,b=s(n,y);return b._callback=n,o(e,t,b,c,f)}var o=n(138),i=n(24),s=n(66);e.exports=r},function(e,t,n){"use strict";function r(){for(var e=void 0,t=void 0,n=void 0,r=arguments.length,l=Array(r),v=0;v<r;v++)l[v]=arguments[v];"object"==typeof this&&this.isMatreshka?(t=l[0],n=l.slice(1),e=this):(e=l[0],t=l[1],n=l.slice(2),i(e,"trigger"));var d=void 0;if("string"!=typeof t)throw s("trigger:names_type",{names:t});d=t.split(a);var h=c.get(e);if(!h)return e;var p=h.events;if(!p)return e;for(var g,y=d,b=0,m=y.length;g=y[b],b<m;b++){var k=o.exec(g);if(k){var x=k[1],j=k[2],O=void 0===j?"sandbox":j,_=k[3];u(e,O,x,_,n)}else f(e,g,n)}return e}var o=n(27),i=n(24),s=n(25),a=n(139),c=n(19),f=n(20),u=n(144);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,s){var a=i.get(e);if(a){var c=a.props,f=c[t];if(f){var u=f.bindings;if(u)for(var l,v=u,d=0,h=v.length;l=v[d],d<h;d++){var p=l.node;if(r)for(var g,y=p.querySelectorAll(r),b=y,m=0,k=b.length;g=b[m],m<k;m++)o({node:g,eventName:n,triggerArgs:s});else o({node:p,eventName:n,triggerArgs:s})}}}}var o=n(145),i=n(19);e.exports=r},function(e,t){"use strict";function n(e){var t=e.node,n=e.eventName,r=e.triggerArgs,o=window,i=o.document,s=o.Event,a=void 0;i.createEvent?(a=i.createEvent("Event"),a.initEvent(n,!0,!0)):"undefined"!=typeof s&&(a=new s(n,{bubbles:!0,cancelable:!0})),a.matreshkaTriggerArgs=r,t.dispatchEvent(a)}e.exports=n},function(e,t,n){"use strict";function r(){return o.temporaryOptionalFlag=!0,i(o,this,arguments)}var o=n(82),i=n(21);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return"object"==typeof this&&this.isMatreshka?(n=t,t=e,e=this):s(e,"bindSandbox"),i(e,"sandbox",null,n),o(e,"sandbox",t,null,n)}var o=n(82),i=n(87),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e,t){if("object"==typeof this&&this.isMatreshka?(t=e,e=this):s(e,"select"),a.test(t))return i(e,t)[0]||null;var n=o.get(e);if(!n||"string"!=typeof t)return null;var r=n.props.sandbox;if(!r)return null;var c=r.bindings;if(c)for(var f=0;f<c.length;f++){var u=c[f].node,l=u.querySelector(t);if(l)return l}return null}var o=n(19),i=n(84),s=n(24),a=/:sandbox|:bound\(([^(]*)\)/;e.exports=r},function(e,t,n){"use strict";function r(e,t){if("object"==typeof this&&this.isMatreshka?(t=e,e=this):c(e,"selectAll or $"),f.test(t))return s(e,t);var n=o.get(e),r=i.$();if(!n||"string"!=typeof t)return r;var u=n.props.sandbox;if(!u)return r;var l=u.bindings;if(l)for(var v,d=l,h=0,p=d.length;v=d[h],h<p;h++){var g=v.node,y=g.querySelectorAll(t);r=r.add(a(y))}return r}var o=n(19),i=n(29),s=n(84),a=n(85),c=n(24),f=/:sandbox|:bound\(([^(]*)\)/;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"object"==typeof this&&this.isMatreshka?(n=t,t=e,e=this):c(e,"remove"),n=n||{};for(var r=a.get(e),u=n,l=u.silent,v=t instanceof Array?t:[t],d=function(t){var a=v[t];if("string"!=typeof a)throw f("remove:key_type",{key:a});var c=r&&r.props,u=c&&c[a];if(!u)return delete e[a],"continue";var d=u.value;o(e,a);for(var h,p=["_change:deps","_change:bindings","_change:delegated","_change:tree","change","beforechange","bind","unbind"],g=p,y=0,b=g.length;h=g[y],y<b;y++)s(e,h+":"+a);delete c[a],delete e[a];var m,k,x,j,O,_={};for(_.key=a,_.value=d,j=n,m=Object.keys(j),k=m.length,x=0;x<k;x++)O=m[x],_[O]=j[O];var w=_;i(e,"_delete:delegated",w),l||(i(e,"delete",w),i(e,"delete:"+a,w))},h=0;h<v.length;h++){d(h)}}var o=n(87),i=n(20),s=n(74),a=n(19),c=n(24),f=n(25);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e.isMatreshkaArray)e.recreate(t);else if(e.isMatreshkaObject)e.setData(t,{replaceData:!0});else for(var n,r=e,o=t,i=Object.keys(o),s=i.length,a=0;a<s;a++)n=i[a],r[n]=o[n]}function o(e){var t=e.UsedClass,n=e.updateFunction;return function(e,r,o,i){return r instanceof t?(n.call(i,r,e,o),r):new t(e,i,o)}}function i(e,t,n,c){"object"==typeof this&&this.isMatreshka?(c=n,n=t,t=e,e=this):s(e,"instantiate");var f=t instanceof Array;if("object"==typeof t&&!f){for(var u,l,v=t,d=Object.keys(v),h=0,p=d.length;u=d[h],l=v[u],h<p;h++)i(e,u,l,n);return e}for(var g,y=f?t:[t],b=c||r,m=o({UsedClass:n,updateFunction:b}),k=y,x=0,j=k.length;g=k[x],x<j;x++)a(e,g,m);return e}var s=n(24),a=n(152);e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.object,n=e.propDef,r=e.key,o=e.mediator;return function(e){return o.call(t,e,n.value,r,t)}}function o(e,t,n){"object"==typeof this&&this.isMatreshka?(n=t,t=e,e=this):a(e,"mediate");var u=t instanceof Array;if("object"==typeof t&&!u){for(var l,v,d=t,h=Object.keys(d),p=0,g=h.length;l=h[p],v=d[l],p<g;p++)o(e,l,v);return e}i(e);for(var y,b=u?t:[t],m=b,k=0,x=m.length;y=m[k],k<x;k++){if("string"!=typeof y)throw f("mediate:key_type",{key:y});var j=s(e,y),O=j.mediator=r({object:e,propDef:j,key:y,mediator:n});c(e,y,O(j.value),{fromMediator:!0})}return e}var i=n(18),s=n(22),a=n(24),c=n(23),f=n(25);e.exports=o},function(e,t,n){"use strict";function r(e){"function"==typeof e?o.$=e:o.$=i}var o=n(29),i=n(31);e.exports=r},function(e,t,n){"use strict";var r=n(137),o=r,i=n(39),s=n(16);e.exports=i({_afterInit:s,isMatreshka:!0,$:o.selectAll},o)}])}),"function"==typeof Matreshka&&(this.MK=Matreshka);
//# sourceMappingURL=matreshka.min.js.map